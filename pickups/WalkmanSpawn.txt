{$CLEO .s}
{$INCLUDE ../Common/CleoConstants.txt}
{$INCLUDE ../Common/CustomOpcodes.txt}
0000:
thread 'walkman'

int walkman_pickup  //stylized model
int walkman_check //the check to spawn it once.
int walkman_model_1 = 116 //on shoulders
int walkman_model_2 = 117 //on head
float x
float y
float z


while true
    wait 0
    if 
        walkman_check == 0
        //is_key_pressed KEY_SPAWN // "."
    then
        Model.Load(#pickupmusic)  //stylized pickup
        038B: load_requested_models
        while not  Model.Available(#pickupmusic) //stylized pickup
            wait 0
        end 
        wait 1000          
        04C4: create_coordinate x y z from_actor $PLAYER_ACTOR offset 2.0 0.0 0.0
        Pickup.Create(walkman_pickup, #pickupmusic, 2, x, y, z) //stylized pickup
            
stream_custom_script "Pickups/Walkman.s"
wait 0 
        Model.Destroy(#pickupmusic) //stylized pickup
        walkman_check = 1
        wait 1000 
                  

:walkmanoff
wait 0
Model.Load(#NULL) //have to load something so best to load nothing 
if and
    0256:   player $PLAYER_CHAR defined
    0214:   pickup walkman_pickup picked_up
    Model.Available(#NULL)
jf @walkmanoff
wait 500
//give walkman on neck
01B4: set_player $PLAYER_CHAR can_move 0
0352: set_actor $PLAYER_ACTOR skin_to 'WALKMAN' // set your character, see list of special characters at 023C
038B: load_requested_models
0353: refresh_actor $PLAYER_ACTOR
01B4: set_player $PLAYER_CHAR can_move 1
01B2: give_actor $PLAYER_ACTOR weapon walkman_model_2 ammo 1 //on head //give this first so it defaults to the shoulders
01B2: give_actor $PLAYER_ACTOR weapon walkman_model_1 ammo 1 //on shoulders
Model.Destroy(walkman_model_1) //on shoulders
Model.Destroy(walkman_model_2) //on head  
jump @walkmanoff

        
end      
  end