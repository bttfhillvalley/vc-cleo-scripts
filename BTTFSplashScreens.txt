{$CLEO .cs}
0000:
thread 'BSPLASH'

{$INCLUDE Common/CleoConstants.txt}
int current_date

:DateCheckStart
stream_custom_script "Splash/BTTF1Splash.s" 
stream_custom_script "Splash/BTTF2Splash.s" 
stream_custom_script "Splash/BTTF3Splash.s"  
0AB3: current_date = var CDATE
while current_date == -1
    wait 10
end
05DD: terminate_all_custom_scripts_with_this_name 'BTTF1L'
05DD: terminate_all_custom_scripts_with_this_name 'BTTF2L'
05DD: terminate_all_custom_scripts_with_this_name 'BTTF3L'



:DateCheck
0AB4: current_date = var CDATE
if
    current_date < 19100101
then
stream_custom_script "Splash/BTTF3Splash.s"  
    jump @WaitToLeave1885
else if
    current_date < 19800101
then
      stream_custom_script "Splash/BTTF1Splash.s"  //"1955"
    jump @WaitToLeave1955
else if
    current_date < 20100101
then
      stream_custom_script "Splash/BTTF1Splash.s"   //"1985"
    jump @WaitToLeave1985
else
stream_custom_script "Splash/BTTF2Splash.s" 
    jump @WaitToLeave2015
end
end
end

:WaitToLeave1885
0AB4: current_date = var CDATE
wait 0
if
    current_date >= 19100101
else_jump @WaitToLeave1885
05DD: terminate_all_custom_scripts_with_this_name 'BTTF3L'
jump @DateCheck

:WaitToLeave1955
0AB4: current_date = var CDATE
wait 0
if or
    current_date < 19100101
    current_date >= 19800101 // We traveled to the present/future
else_jump @WaitToLeave1955
05DD: terminate_all_custom_scripts_with_this_name 'BTTF1L' //"1955"
jump @DateCheck

:WaitToLeave1985
0AB4: current_date = var CDATE
wait 0
if or
  current_date < 19800101 // We traveled back to the past
  current_date >= 20100101 // We traveled to the future
else_jump @WaitToLeave1985
05DD: terminate_all_custom_scripts_with_this_name 'BTTF1L'//"1985"
jump @DateCheck

:WaitToLeave2015
0AB4: current_date = var CDATE
wait 0
if
  current_date < 20100101 // We traveled to the past/present
else_jump @WaitToLeave2015
05DD: terminate_all_custom_scripts_with_this_name 'BTTF2L'
jump @DateCheck